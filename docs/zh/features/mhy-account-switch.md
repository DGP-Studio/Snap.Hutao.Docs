---
headerDepth: 2
category: [功能, 教程]
tag: [米游社, HoYoLAB, 多帐号, 签到]
order: 14
comment: false
description: 米游社多账号面板功能允许用户在胡桃工具箱中登录多个米哈游论坛账号并自由切换，以实现在工具箱内以不同账号使用各种功能的目的。
banner: https://opengraph.snapgenshin.cn/generate?url=https://hut.ao/zh/features/mhy-account-switch.html
---

# 米游社多账号切换

::: tip
胡桃工具箱支持中国大陆版米哈游论坛**米游社**和国际版论坛 **HoYoLAB** 的账号。HoYoLAB 默认阻拦来自中国大陆的网络连接，Snap Hutao 软件无法自行绕开该限制。

- 本文档所描述的账号切换指的是用于获取游戏数据的**米游社 / HoYoLAB 账号**，不是原神**游戏内的账号**
- 在使用本功能前，你需要使用官方的米游社 App 登录你的账号以初始化你的米游社功能
  - 如果在胡桃中登录的账号名称格式为 “user_123456789” 则其有可能没有被初始化
:::

![多帐号管理样图](https://img.alicdn.com/imgextra/i4/1797064093/O1CN01ZhnkRl1g6e0tz18y9_!!1797064093.png.png_.webp)

你可以在程序主界面的左下角，设置按钮的上方找到帐号菜单，以管理你在胡桃工具箱中登录的米游社帐号。在弹出的面板中你可以添加米游社或 HoYoLAB 帐号，登录它们的方法是类似的：

- 手机验证码登录（仅国服）
  - 点击账号面板中的“手机验证码”按钮，填写手机号并点击“发送”
  - 填写接收到的验证码，核对无误后点击“确认”
  - 稍等片刻，胡桃将自动添加你的账号
- 手动输入
  - 您也可以通过点击“手动输入”按钮，直接输入米游社通行证 cookie 来添加您的账号
  - 若您选择“手动输入”米游社 Cookie，则该 Cookie **必须包含 `SToken` 字段**
    - 手动获取含 `SToken` 字段的 Cookie 的方式可参考[使用第三方工具获取有 SToken 的 Cookie](../advanced/get-stoken-cookie-from-the-third-party.md) 文档
- 网页登录（仅外服）
  - 在对应的账号类别中点击“网页登录”按钮
  - 在弹出的窗口登录成功后，点击右上角的“我已登录”按钮即可登录

- 完成后，您就可以在账号管理面板切换已登录的米游社帐号了
  - 新添加米游社账号后，需在主界面左下角切换账号的功能中，手动点击一次新登录的账号，以将其设置为使用状态
  - 你可以在账号管理菜单中复制对应账号的 Cookie 或从胡桃工具箱中删除该帐号
  - 你可以对账号拖动排序
  - 在选中登录账号后，你可以
    - 点击刷新 Cookie 按钮来更新当前储存的 Cookie
    - 点击签到按钮来执行米哈游论坛签到。对于米游社账号，需要先解除风控状态才可成功执行签到。

::: info 安全提示
- `SToken` 是一个安全敏感的 Cookie 字段，你**不应该**在任何云端或其它无法保证数据安全的设备上储存含有 `SToken` 字段的 Cookie。
- 从胡桃工具箱中复制获得的 Cookie 中包含该字段，请慎重考虑是否为接受 Cookie 的一方提供 `SToken` 字段。
- **在胡桃工具箱中通过密码或 Cookie 登录米游社的过程中，你的数据只经米游社服务器和本地胡桃工具箱处理，不经过包括胡桃服务器在内的任何第三方服务。**
:::

## 常见问题

### 为什么米游社账号登录状态经常失效，添加的账号消失

- 我们通过储存账号的米游社 Cookie 来维持登录状态。
- 但是当用户在浏览器或其它设备上**注销账号**后， 维持登录状态的 Cookie 将**失效**。
- 这会导致胡桃工具箱上的米游社账号在启动后被自动移除。
- 此情况也可能因为网络连接问题导致无法检查 Cookie 有效性，故出现此情况后请优先重启胡桃工具箱。
- 自 2022 年 10 月起，米游社极大地提高了账号被判定为有风险的概率，[账号有风险](../advanced/exceptions.md#状态1034-验证失败) 时亦会令 Cookie 无法被识别为有效状态
- 自 1.4.15 版本起，你可以通过在账号面板中刷新 Cookie 来刷新登录状态
