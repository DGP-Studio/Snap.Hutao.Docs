---
headerDepth: 2
icon: tool
category:
  - FAQ
order: 3
redirectFrom: /advanced/known-issue.html
---

# 已知问题
该文档包含由**程序错误**造成的问题

## #1 微软商店下载应用程序
> 该问题来源并非胡桃工具箱，属于外部问题 该问题通常仅出现在东亚地区的网络环境下

- 发现于 2023/02/07
- 无法从微软商店下载的原因在于微软在东亚的授权服务器 `licensing.mp.microsoft.com` 掉线。当你在商店上下载一个新应用时，这实际上是一个授权/购买的过程。 当授权服务出现问题时，自然不会再进入到下一步下载环节，这就导致了用户无法安装
  - 目前仅发现于微软商店新加坡授权服务器 `52.137.108.250` 出现了问题，所以你可以使用代理，切换到其它授权服务器，来实现下载。
- 授权服务器问题 DGP-Studio已反馈给微软，等待解决。
- 临时的解决方案：
  - **方法1**：
    - 使用[UsbEAm Hosts Editor](https://www.dogfight360.com/blog/475/)
      - 在该工具箱内选择 `Microsoft Store - 微软商店` 中的 `微软授权验证`
      - 点击`检测延迟`
      - 选择一个对你而言延迟最低的服务器，选中后点击`应用选中`
      - 此时重启微软商店后，你应当可以下载应用了
      - 下载完成后，建议点击`清除当前`以删除对 `Hosts` 文件的修改
    - 如果你懒得下载，可以尝试将 `licensing.mp.microsoft.com` 通过修改 `Hosts`文件解析到以下 IP 地址之一 （收集于 UsbEAm Hosts Editor）
      - `124.108.22.138`
      - `92.38.149.175`
      - `141.147.180.87`
      - `103.151.179.4`
  - **方法2**：
    - 将系统的DNS服务器设置为4.2.2.1和4.2.2.2（完事后记得改回原本的设置）
  - **方法3**：
    - 使用北美地区的网络代理
    - 如果使用加速器或网络代理，你需要[解除微软商店的 Windows App Container Loopback 限制](exceptions.html#_502-bad-gateway)


## #2 服务器切换导致31-4302报错
> 该问题已于 [1.4.15](/statements/update-log.html#1-4-15) 版本修复，请及时更新
- 使用高级启动器中的服务器切换功能时，可能会出现`31-4302`相关错误
- 目前的临时解决方案：
  - 将原神截图目录中的服务器切换缓存目录删除

## #3 任务栏右键菜单中没有快速启动游戏的入口
> 该问题已于 [1.5.1](/statements/update-log.html#1-5-1) 版本修复，请及时更新
- 胡桃使用 Windows 提供的 `JumpPath` 接口来提供快速启动游戏菜单
  - 该接口需要用户在`系统设置 -> 个性化 -> 开始` 中启用`在“开始”菜单或任务栏的跳转列表中以及资源管理器的“快速使用”中显示最近打开的项` （该设置系统默认开启）
- 在下一版本，我们会使用 `JumpTask` 接口来代替 `JumpPath` 接口，用户将不再需要上述设置选项开启

## #4 无法使用管理员模式启动胡桃工具箱
> 该问题来源并非胡桃工具箱，属于外部问题 该问题仅存在于 Windows 10 低于22H2的版本中

- 当用户系统版本低于 `Windows Build 19045`（即 Windows 10 22H2 版本）时，可能无法通过管理员模式启动胡桃工具箱
  - 该问题属于 Windows 内核级别问题，难以判断具体来源，故建议用户升级至 Windows 10 最新版本

## #5 服务器转换卡死并持续写入的问题
相关 Issue：[issues/566](https://github.com/DGP-Studio/Snap.Hutao/issues/566)

该问题已在[1.5.4](/statements/update-log.html#1-5-4) 版本修复，请及时更新