import{_ as a,c as t,f as n,o as i}from"./app-73Dab29j.js";const l={};function r(o,e){return i(),t("div",null,e[0]||(e[0]=[n('<h1 id="система-молитв-и-принцип-экспорта" tabindex="-1"><a class="header-anchor" href="#система-молитв-и-принцип-экспорта"><span>Система молитв и принцип экспорта</span></a></h1><blockquote><p>Gacha System and Principal</p></blockquote><p>Система молитв в Snap Hutao была полностью переработана по сравнению со Snap Genshin.</p><p>В этой статье объясняются механизмы истории молитв в Genshin Impact и технические принципы функции экспорта молитв в Snap Hutao.</p><div class="hint-container important"><p class="hint-container-title">Важно</p><p>Это перевод, сделанный моделью Google Gemini, и мы приветствуем исправления посредством PR.</p></div><h2 id="получение-молитв" tabindex="-1"><a class="header-anchor" href="#получение-молитв"><span>Получение молитв</span></a></h2><p>Для получения истории молитв требуется запрос к API miHoYo.</p><p>Об этом API следует знать следующее:</p><ul><li>Через API сервера miHoYo можно получить историю молитв только за последний год. <ul><li>Это также источник истории молитв в клиенте Genshin Impact.</li></ul></li><li>API имеет ограничение скорости запросов, слишком быстрые запросы приведут к сбою последующих запросов и невозможности нормального получения данных.</li></ul><h3 id="ключевые-параметры-запроса-api" tabindex="-1"><a class="header-anchor" href="#ключевые-параметры-запроса-api"><span>Ключевые параметры запроса API</span></a></h3><p>Для запроса этого API нам необходимы следующие четыре ключевых параметра:</p><ol><li>Тип баннера</li><li>Предметы, полученные в молитвах</li><li>Время</li><li>ID истории молитв</li></ol><ul><li>В настоящее время известны следующие способы получения этих параметров: <ol><li>Перебор файлов журнала Unity в поисках URL-адреса истории молитв, открытого пользователем.</li><li>Проксирование локального трафика и фильтрация URL-адреса истории молитв.</li><li>Поиск в кеше браузера <code>CefBrowser</code> для нахождения URL-адреса истории молитв.</li><li>Использование Cookie, содержащего <code>SToken</code>, для вызова API <code>genAuthKey</code> и получения параметров.</li><li>Ручной ввод соответствующих URL-адресов продвинутыми пользователями.</li></ol></li></ul><h3 id="сборка-данных-и-создание-полнои-истории" tabindex="-1"><a class="header-anchor" href="#сборка-данных-и-создание-полнои-истории"><span>Сборка данных и создание полной истории</span></a></h3><p>После запроса API можно получить разрозненные записи истории молитв. После сборки этих записей можно создать полный список истории молитв.</p><hr><h2 id="хранение-молитв" tabindex="-1"><a class="header-anchor" href="#хранение-молитв"><span>Хранение молитв</span></a></h2><p>Полный список истории молитв после получения сериализуется и сохраняется в локальной базе данных, а при необходимости десериализуется для отображения пользователю.</p><ul><li>В последующих запросах Snap Hutao нужно только сравнить данные с данными в базе данных, чтобы получить новые данные.</li><li>Этот способ гарантирует, что пользователи смогут долгосрочно хранить полную историю молитв своей учетной записи.</li></ul><hr><h2 id="формат-uigf" tabindex="-1"><a class="header-anchor" href="#формат-uigf"><span>Формат UIGF</span></a></h2><blockquote><p>Унифицированный стандарт обмена записями молитв Uniformed Interchangeable GachaLog Format Standard</p></blockquote><p><code>UIGF</code> — это унифицированный стандарт обмена данными истории молитв, разработанный и продвигаемый нами совместно с другими приложениями для истории молитв и <strong>поддерживаемый на постоянной основе</strong>.</p><p>Стандартизированный формат данных позволяет пользователям свободно переносить данные между различными инструментами, чтобы использовать различные функции каждого инструмента.</p><h3 id="импорт-молитв" tabindex="-1"><a class="header-anchor" href="#импорт-молитв"><span>Импорт молитв</span></a></h3><p>Используя формат данных <code>UIGF</code>, можно импортировать данные истории молитв, сохраненные в других приложениях.</p><ul><li>При импорте данных Snap Hutao сравнивает самый ранний индекс (ID) в локальном хранилище и импортирует только более старые записи.</li><li>Новые данные всегда можно получить с сервера miHoYo, и их исходные данные являются более точными.</li></ul><h3 id="экспорт-молитв" tabindex="-1"><a class="header-anchor" href="#экспорт-молитв"><span>Экспорт молитв</span></a></h3><p>Snap Hutao поддерживает сохранение истории молитв в виде файла формата <code>UIGF</code> и вывод его в папку, указанную пользователем.</p><p>Пользователи могут продолжать использовать историю молитв через экспортированные файлы в других инструментах, поддерживающих формат <code>UIGF</code>.</p>',30)]))}const c=a(l,[["render",r],["__file","Gacha-system-and-export-principal.html.vue"]]),h=JSON.parse('{"path":"/ru/advanced/Gacha-system-and-export-principal.html","title":"Система молитв и принцип экспорта","lang":"ru-RU","frontmatter":{"headerDepth":2,"category":["FAQ"],"icon":"iconfont icon-read","order":8,"comment":false,"description":"Snap Hutao использует различные методы для получения информации для входа пользователя и API Genshin Impact для получения истории молитв.","banner":"https://opengraph.snapgenshin.cn/generate?url=https://hut.ao/zh/advanced/Gacha-system-and-export-principal.html&has_description=False","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://hut.ao/zh/advanced/Gacha-system-and-export-principal.html"}],["link",{"rel":"alternate","hreflang":"en-us","href":"https://hut.ao/en/advanced/Gacha-system-and-export-principal.html"}],["link",{"rel":"alternate","hreflang":"id-id","href":"https://hut.ao/id/advanced/Gacha-system-and-export-principal.html"}],["link",{"rel":"alternate","hreflang":"ja-jp","href":"https://hut.ao/jp/advanced/Gacha-system-and-export-principal.html"}],["meta",{"property":"og:url","content":"https://hut.ao/ru/advanced/Gacha-system-and-export-principal.html"}],["meta",{"property":"og:site_name","content":"Snap Hutao"}],["meta",{"property":"og:title","content":"Система молитв и принцип экспорта"}],["meta",{"property":"og:description","content":"Snap Hutao использует различные методы для получения информации для входа пользователя и API Genshin Impact для получения истории молитв."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://opengraph.snapgenshin.cn/generate?url=https://hut.ao/zh/advanced/Gacha-system-and-export-principal.html&has_description=False"}],["meta",{"property":"og:locale","content":"ru-RU"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"id-ID"}],["meta",{"property":"og:locale:alternate","content":"ja-JP"}],["meta",{"property":"og:updated_time","content":"2025-01-12T04:59:21.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://opengraph.snapgenshin.cn/generate?url=https://hut.ao/zh/advanced/Gacha-system-and-export-principal.html&has_description=False"}],["meta",{"name":"twitter:image:alt","content":"Система молитв и принцип экспорта"}],["meta",{"property":"article:modified_time","content":"2025-01-12T04:59:21.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Система молитв и принцип экспорта\\",\\"image\\":[\\"https://opengraph.snapgenshin.cn/generate?url=https://hut.ao/zh/advanced/Gacha-system-and-export-principal.html&has_description=False\\"],\\"dateModified\\":\\"2025-01-12T04:59:21.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"DGP-Studio\\",\\"url\\":\\"https://github.com/DGP-Studio\\"}]}"],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://hut.ao/ru/rss.xml","title":"Snap Hutao RSS Feed"}]]},"headers":[{"level":2,"title":"Получение молитв","slug":"получение-молитв","link":"#получение-молитв","children":[{"level":3,"title":"Ключевые параметры запроса API","slug":"ключевые-параметры-запроса-api","link":"#ключевые-параметры-запроса-api","children":[]},{"level":3,"title":"Сборка данных и создание полной истории","slug":"сборка-данных-и-создание-полнои-истории","link":"#сборка-данных-и-создание-полнои-истории","children":[]}]},{"level":2,"title":"Хранение молитв","slug":"хранение-молитв","link":"#хранение-молитв","children":[]},{"level":2,"title":"Формат UIGF","slug":"формат-uigf","link":"#формат-uigf","children":[{"level":3,"title":"Импорт молитв","slug":"импорт-молитв","link":"#импорт-молитв","children":[]},{"level":3,"title":"Экспорт молитв","slug":"экспорт-молитв","link":"#экспорт-молитв","children":[]}]}],"git":{"createdTime":1664413369000,"updatedTime":1736657961000,"contributors":[{"name":"Masterain","username":"Masterain","email":"i@irain.in","commits":16,"url":"https://github.com/Masterain"},{"name":"Mikachu2333","username":"Mikachu2333","email":"mikachu.23333@zohomail.com","commits":1,"url":"https://github.com/Mikachu2333"},{"name":"QweRez","username":"QweRez","email":"xtoyougg@gmail.com","commits":1,"url":"https://github.com/QweRez"},{"name":"Mr.Hope","username":"Mr.Hope","email":"mister-hope@outlook.com","commits":1,"url":"https://github.com/Mr.Hope"}]},"readingTime":{"minutes":1.55,"words":464},"filePathRelative":"ru/advanced/Gacha-system-and-export-principal.md","localizedDate":"29 сентября 2022 г."}');export{c as comp,h as data};
